<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scroll Wall ‚Äî Models & Influencers</title>
<style>
  :root{--bg:#0c0f13;--ink:#ecf0f3;--muted:#a8b0bb;--card:#161b22;--edge:#263243;--accent:#ff6ea6;}
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1000px 540px at 50% -200px,#1b2230 0%,#0c0f13 65%);color:var(--ink);font-family:sans-serif;}
  .wrap{max-width:980px;margin:24px auto;padding:0 16px 56px}
  header{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  h1{margin:0;font-size:38px}
  .pill{border:1px solid var(--edge);background:#0f1520;border-radius:14px;padding:8px 12px;color:#cbd5d6}
  .toolbar{margin:16px 0;background:#111723;border:1px solid var(--edge);border-radius:20px;padding:14px}
  .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
  button{border:0;border-radius:14px;padding:12px 16px;font-weight:700;cursor:pointer}
  .btn{background:var(--accent);color:#111}
  .btn-ghost{background:#0f1520;border:1px solid var(--edge);color:var(--ink)}
  .counter{min-width:90px;text-align:center;padding:10px 14px;border-radius:12px;background:#0f1520;border:1px solid var(--edge);font-weight:800}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;margin-top:16px}
  .card{grid-column:span 12;background:#151b24;border:1px solid var(--edge);border-radius:20px;overflow:hidden;box-shadow:0 10px 22px rgba(0,0,0,.35);touch-action:pan-y}
  @media(min-width:700px){.card{grid-column:span 6}}
  .media{position:relative;aspect-ratio:4/5;background:#0b0f14}
  .media img,.media video{width:100%;height:100%;object-fit:cover;display:block}
  .meta{padding:14px;border-top:1px solid #111820}
  .title{font-weight:800;font-size:20px;margin:0 0 8px}
  .subtle{color:var(--muted);font-size:13px}
  .row-buttons{display:flex;align-items:center;gap:8px;margin-top:10px}
  .chip{padding:8px 12px;border-radius:12px;border:1px solid var(--edge);background:#0f1520;font-weight:600;font-size:13px}
  .like{margin-left:auto;font-size:20px;width:50px;height:40px;border-radius:12px;background:#111820;border:1px solid var(--edge);display:flex;align-items:center;justify-content:center}
  .like.liked{background:linear-gradient(#ffe29a,#ffc96b);color:#221}
  .badge{position:absolute;top:10px;right:10px;padding:6px 10px;border-radius:10px;font-weight:800;display:none}
  .card.likeing .badge.like,.card.dismiss .badge.dismiss{display:block}
  .badge.like{background:#ffd776;color:#222}
  .badge.dismiss{background:#333;color:#eee}
  dialog{border:1px solid var(--edge);background:#0f1520;border-radius:16px;color:var(--ink);padding:14px;max-width:960px;width:94%}
  dialog::backdrop{background:rgba(0,0,0,.45)}
  .drawer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;max-height:60vh;overflow:auto}
  .drawer-grid img,.drawer-grid video{width:100%;height:140px;object-fit:cover;border-radius:10px;border:1px solid #1c2734;background:#0b0f14}
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;background:#2a3342;color:#ffe1e1;border:1px solid #3b4757;padding:10px 14px;border-radius:12px;font-weight:700;display:none}
  .show{display:block}
  .spinner{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.18)}
  .spinner:before{content:"";width:30px;height:30px;border-radius:50%;border:4px solid #2b3646;border-top-color:var(--accent);animation:spin 900ms linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Scroll Wall</h1>
    <div class="pill">Influencers ‚Ä¢ Models ‚Ä¢ Celebs</div>
    <button id="openLiked" class="btn-ghost" style="margin-left:auto;">Liked ‚≠ê</button>
  </header>

  <div class="toolbar">
    <div class="row">
      <button id="fresh" class="btn-ghost">New batch üÜï</button>
      <button id="load" class="btn">Load more</button>
      <button id="shuffle" class="btn-ghost">Shuffle üîÄ</button>
      <div id="count" class="counter">0/0</div>
    </div>
  </div>

  <div id="grid" class="grid"></div>
</div>

<dialog id="likedDlg">
  <strong>Liked ‚≠ê</strong>
  <div id="likedGrid" class="drawer-grid"></div>
  <button id="closeLiked" class="btn">Close</button>
</dialog>

<div id="toast" class="toast"></div>
<div id="spin" class="spinner"></div>

<script>
const WOMEN_SUBS = [
  "AnaDeArmas","AlexandraDaddario","MargotRobbie","SydneySweeney_","GalGadot","Zendaya_","DuaLipa","AnyaTaylorJoy","FlorencePugh","EmiliaClarke","ElizabethOlsen","JennaOrtega_","EmmaWatson","ScarlettJohansson","BrieLarson","NataliePortman","ArianaGrande","SelenaGomez","SabrinaCarpenter","MadisonBeer","OliviaRodrigo","CamilaCabello","DojaCat","Halsey","AlexisRen","BarbaraPalvin","BellaHadid","GigiHadid","HaileyBieber","EmilyRatajkowski","KateUpton","CharliDAmelio","AddisonRae","LeaElui","SommerRay","AlixEarle","KylieJenner","KendallJenner","DemiRose","JuliaRose","LorenGray","SofiaVergara","PaigeSpiranac","VioletSummers","CorinnaKopf","Amouranth","MiaKhalifaHQ","LanaRhoades_","VictoriaJustice","NinaDobrev","CamilaMendes","LiliReinhart","MadelainePetsch","SophieTurner","LucyHale","IU","Suzy","JennieBlackpink","RoseBlackpink","KarolG","BeckyG","EizaGonzalez"
];

const APPRECIATION_SUBS = [
  "emratahot","kendalljennerx","gigihadid__","addisonraehot","leaelui_","alixearlehot","bellahadid__","halseysexy","sydney_sweeney_hot","margotrobbiesexy","dua_lipa_hot","sofiavergarahot","alexisrenhot","barbarapalvinhot","madisonbeerhot","paigespiranachot","demirosehot","juliarosehot","sommerrayhot","charlidameliomommy"
];

const $=s=>document.querySelector(s);
const grid=$("#grid"),toast=$("#toast"),spinner=$("#spin"),counter=$("#count"),likedDlg=$("#likedDlg"),likedGrid=$("#likedGrid");
let queue=[],shown=0,seen=new Set(),liked=JSON.parse(localStorage.getItem("liked_v2")||"[]");
function showToast(m,ms=2000){toast.textContent=m;toast.classList.add("show");setTimeout(()=>toast.classList.remove("show"),ms);}
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function spin(on){spinner.style.display=on?"grid":"none";}
function updateCounter(){counter.textContent=`${shown}/${queue.length}`;}

async function fetchFromSub(sub){
  const r=await fetch(`https://www.reddit.com/r/${sub}/hot.json?limit=60`);
  if(!r.ok) return [];
  const j=await r.json();
  return j.data?.children.map(c=>c.data)||[];
}
function asMedia(p){
  if(seen.has(p.id)) return null; seen.add(p.id);
  let mp4=null,img=null,isVideo=false;
  if(p.secure_media?.reddit_video?.fallback_url){isVideo=true;mp4=p.secure_media.reddit_video.fallback_url.split("?")[0];}
  else if(p.url?.match(/\.mp4$/)){isVideo=true;mp4=p.url;}
  else if(p.url?.match(/\.(jpe?g|png|webp)$/i)){img=p.url;}
  else if(p.preview?.images?.[0]?.source?.url){img=p.preview.images[0].source.url.replace(/&amp;/g,"&");}
  if(!img&&!mp4) return null;
  return {id:p.id,title:p.title,author:p.author,sub:p.subreddit,nsfw:p.over_18,isVideo,mp4,img};
}
async function loadSample(){
  const base=shuffle(WOMEN_SUBS).slice(0,8);
  const spicy=shuffle(APPRECIATION_SUBS).slice(0,8);
  const pick=shuffle([...base,...spicy]);
  const bag=[];
  await Promise.all(pick.map(async s=>{
    try{const posts=await fetchFromSub(s);const m=posts.map(asMedia).filter(Boolean);bag.push(...shuffle(m).slice(0,6));}catch{}
  }));
  return shuffle(bag);
}
async function loadMore(){
  spin(true);
  const got=await loadSample(); queue.push(...got); pumpQueue(10); spin(false);
}
function pumpQueue(n){for(let i=0;i<n;i++){const it=queue.shift();if(!it) break;createCard(it);shown++;}updateCounter();}
function newBatch(){grid.innerHTML="";queue=[];shown=0;updateCounter();loadMore();}

function createCard(it){
  const card=document.createElement("article");card.className="card";
  const media=document.createElement("div");media.className="media";
  if(it.isVideo){const v=document.createElement("video");v.src=it.mp4;v.autoplay=true;v.loop=true;v.muted=true;v.playsInline=true;v.controls=true;media.appendChild(v);}
  else{const img=document.createElement("img");img.src=it.img;img.loading="lazy";media.appendChild(img);}
  const meta=document.createElement("div");meta.className="meta";
  const title=document.createElement("h3");title.className="title";title.textContent=it.title||"(untitled)";
  const subtle=document.createElement("div");subtle.className="subtle";subtle.textContent=`u/${it.author} ‚Ä¢ r/${it.sub}`;
  const row=document.createElement("div");row.className="row-buttons";
  const likeBtn=document.createElement("button");likeBtn.className="like";likeBtn.innerHTML="‚≠ê";likeBtn.onclick=()=>toggleLike(it,likeBtn);
  row.append(likeBtn);meta.append(title,subtle,row);
  card.append(media,meta);grid.appendChild(card);
  enableSwipe(card,it,likeBtn);
}
function toggleLike(it,btn){const idx=liked.findIndex(x=>x.id===it.id);if(idx>=0){liked.splice(idx,1);btn.classList.remove("liked");}else{liked.unshift(it);btn.classList.add("liked");}localStorage.setItem("liked_v2",JSON.stringify(liked));}
function enableSwipe(card,it,btn){let startX=0,dx=0,drag=false;const start=e=>{drag=true;startX=e.touches?e.touches[0].clientX:e.clientX;};const move=e=>{if(!drag)return;dx=(e.touches?e.touches[0].clientX:e.clientX)-startX;card.style.transform=`translateX(${dx}px)`;};const end=()=>{if(!drag)return;drag=false;if(dx>120){toggleLike(it,btn);card.remove();}else if(dx<-120){card.remove();}card.style.transform="";};card.addEventListener("touchstart",start);card.addEventListener("touchmove",move);card.addEventListener("touchend",end);}
$("#load").onclick=()=>queue.length<6?loadMore():pumpQueue(8);
$("#shuffle").onclick=()=>{queue=shuffle(queue);showToast("Shuffled")};
$("#fresh").onclick=newBatch;
$("#openLiked").onclick=()=>{likedGrid.innerHTML="";liked.forEach(it=>{const el=document.createElement(it.isVideo?"video":"img");el.src=it.isVideo?it.mp4:it.img;likedGrid.appendChild(el);});likedDlg.showModal();}
$("#closeLiked").onclick=()=>likedDlg.close();
document.addEventListener("DOMContentLoaded",newBatch);
</script>
</body>
</html>